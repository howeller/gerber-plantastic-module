{"version":3,"file":"../main.js","sources":["main.js"],"sourcesContent":["// const onClick = e => console.log(`CLICK!`);\n\n(function(window, document){\n\n\tlet tl, txt, windowWidth;\n\n\tconst cl = txt => console.log('%c '+txt,'background: rgba(51, 255, 0, 0.3); color: white;');\n\tconst id = txt => document.getElementById(txt);\n\n\tfunction init(e){\n\t\t// cl('init');\n\t\twindowWidth = window.innerWidth;\n\t\tgsap.set('.hero',{visibility:'visible'});\n\t\tstartAnimation(windowWidth);\n\t}\n\n\tfunction startAnimation() {\n\t\t// cl(windowWidth);\n\n\t\tif (windowWidth > 1024) {\n\t\t\tanimateDesktop();\n\t\t}\n\t\telse if (windowWidth > 780) {\n\t\t\tanimateTablet();\n\t\t} \n\t\telse {\n\t\t\tanimateMobile();\n\t\t}\n\t}\n\n\tfunction onResize(event) {\n\t\twindowWidth = event.target.innerWidth;\n\t\tresetElements();\n\t\ttl.seek(0);\n\t\ttl.kill();\n\t\t// cl('onResize: '+windowWidth);\n\t\tstartAnimation();\n\t}\n\n\tfunction resetElements() {\n\t\t// Set in case other animations were triggered on window resize.\n\t\tgsap.set(['#pic-dt','#pic-tab','#pic-mo','#wave-dt','#wave-tab','#wave-mo', '#logo'],{scale:1, x:0, y:0});\n\t\tgsap.set(['#pic-tab','#pic-mo','#wave-tab','#wave-mo'],{ width:'100%'});\n\t\tgsap.set(['#pic-dt','#wave-dt'], {height:'100%'});\n\t}\n\n\tfunction animateDesktop() {\n\t\t// cl('animateDesktop!');\n\n\t\ttl = gsap.timeline({ defaults:{ paused:false, duration:0.5, ease:'power3.out' }});\n\n\t\ttl.add('start')\n\t\t\t.fromTo('#pic-dt',{x:0},{x:getDtPicStartX(), duration:0})\n\t\t\t.fromTo('#wave-mask-dt',{x:-900}, {x:getDtWaveEndX(), duration:2, ease:'power3.out'}, 'start')\n\t\t\t.add(logoTl(), 'start+=0.3')\n \t\t\t.fromTo('#logo',{x:0, y:100, scale:1.2}, { y:0, scale:1, duration: 1, ease:'power3.inOut'}, '+=0.5')\n\t\t\t.add('end', '-=0.3')\n\t\t\t.add(endTl(), 'end');\n\t}\n\n\tfunction animateTablet() {\n\t\t// cl('animateTablet!');\n\t\tlet _picProp = gsap.getProperty('#pic-tab'),\n\t\t_picW = 1/_picProp('width'),\n\t\t_picH = _picProp('height');\n\n\t\tresizeWaveClipPath('tab', 1/1024, 1/415);// Pass in the full size image width + height and a number between 0-1\n\n\t\ttl = gsap.timeline({ defaults:{ paused:false, duration:0.5, ease:'power3.out' }});\n\t\n\t\ttl.add('start')\n\t\t\t.fromTo('#wave-path-tab',{x:'-100%',y:'100%'}, {x:0, y:0, duration:2.3, ease:'power.out'}, 'start')\n\t\t\t.fromTo('#pic-tab',{x:'-30%', scale:1.3},{x:0, scale:1, duration:1.8, ease:'power.out'}, 'start')\n\t\t\t.add(logoTl(), '-=1.3')\n \t\t\t.fromTo('#logo', { x:0, y:0 }, {x:'-40%', duration:1.5, ease:'power3.inOut'})\n\t\t\t.add('end', '-=1.3')\n\t\t\t.add(endTl(), 'end');\n\t}\n\n\tfunction animateMobile() {\n\t\t// cl('animateMobile!');\n\n\t\tresizeWaveClipPath('mo', 0.0012345, 0.00178814);\n\t\ttl = gsap.timeline({ defaults:{ paused:false, duration:0.5, ease:'power3.out' }});\n\n\t\ttl.add('start')\n\t\t\t.fromTo('#wave-path-mo',{x:'-100%', y:'-100%'}, {x:0, y:0, duration:2, ease:'power3.out'}, 'start')\n\t\t\t.fromTo('#pic-mo',{x:0, y:'-10%', scale:1.3 },{ y:0, scale:1, duration:1.5, ease:'power3.out'}, 'start')\n\t\t\t.add(logoTl(), '-=.5')\n\t\t\t.add('end', '-=.3')\n\t\t\t.add(endTl(), 'end');\n\t}\n\n\tfunction popInTl(_id, _origin='50% 50%') {\n\t\treturn gsap.timeline()\n\t\t\t.fromTo(_id, { scale:0, y:0 }, { duration:0.5, scale:1, transformOrigin:_origin, ease:'back.out(1.2)'});\n\t}\n\tfunction logoElementPopInTl(_id, _speed=0.3) {\n\t\treturn gsap.timeline()\n\t\t\t.fromTo(_id, {  x:'50%', y:'50%', scale:0 }, { x:0, y:0, scale:1, duration:_speed, ease:'back.out(1.3)'})\n\t}\n\tfunction logoTl() {\n\t\treturn gsap.timeline()\n\t\t\t.add('start')\n \t\t\t.fromTo(['#N','#E','#W'], { x:'50%', y:'50%', scale:0 }, {x:0, y:0, scale:1, duration:0.3, stagger:0.1, ease:'back.out(1.3)'}, 'start')\n \t\t\t.add(logoElementPopInTl('#Gerber-logo'), 'start+=.3')\n \t\t\t.add(logoElementPopInTl('#plant-tastic-lockup', 0.4), 'start+=0.6')\n\t}\n\tfunction endTl() {\n\t\treturn gsap.timeline()\n\t\t\t.add('start')\n\t\t\t.add(txtInTl('h1'), 'start')\n\t\t\t.add(txtInTl('#txt'), '-=0.3')\n\t\t\t.add(popInTl('.cta'), '-=0.3')\n\t}\n\tfunction txtInTl(_txt){\n\n\t\treturn gsap.timeline()\n\t\t\t.fromTo(_txt, { scale:0, y:0 }, { duration:1, scale:1, transformOrigin:'30% 50%', ease:'back.out(1.2)'})\n\t\t\t.fromTo(_txt+' span', { alpha:0 }, {alpha:1, duration: 0.2, ease:'none', stagger:0.1 },'-=1')\n\t}\n\t/* Helper functions */\n\tfunction resizeWaveClipPath(_sizeSuffix='mo', _scaleX=0.0012345, _scaleY=0.00178814 ) {\n\t\tlet sx = _scaleX,\n\t\t\tsy = _scaleY; // Edit these numbers to get close to image width + height /1\n\t\t/*console.group('resizeWaveClipPath');\n\t\tcl(`sx ${sx}`);\n\t\tcl(`sy ${sy} `)\n\t\tconsole.groupEnd();*/\n\t\tid(`wave-mask-${_sizeSuffix}`).setAttribute('transform', `scale(${sx} ${sy})`);\n\t}\n\tfunction getDtPicStartX() {\n\t\tlet pct = 62.5,\n\t\t\t_maxWidth = 1440,\n\t\t\t_diffWidth =  _maxWidth - windowWidth;\n\t\t\t_distanceX = Math.round( (_diffWidth * pct)/100 )/2,\n\t\t\t_startX = _distanceX <= 0 ? 0 : '+='+_distanceX * -1;\n\n\t\t\t/*console.group('getDtPicStartX')\n\t\t\tcl('_diffWidth '+_diffWidth);\n\t\t\tcl('_startX '+_startX);\n\t\t\tconsole.groupEnd();*/\n\t\treturn _startX;\n\t}\n\tfunction getDtWaveEndX() {\n\t\tlet pct = 62.5,\n\t\t\t_maxWidth = 1440,\n\t\t\t_diffWidth =  _maxWidth - windowWidth;\n\t\t\t_distanceX = Math.round( _diffWidth * pct/100) /2,\n\t\t\t_endX = _distanceX <= 0 ? 0 : (_distanceX * -1);\n\n\t\t\t// console.group('getDtWaveEndX');\n\t\t\t// cl('_diffWidth '+_diffWidth);\n\t\t\t// cl('_endX '+_endX);\n\t\t\t// console.groupEnd();\n\t\treturn _endX;\n\t}\n\n\twindow.addEventListener('load', init);\n\twindow.addEventListener('resize', onResize, true);\n\t\n})(window, document)"],"names":["window","document","let","tl","windowWidth","id","txt","getElementById","startAnimation","gsap","timeline","defaults","paused","duration","ease","add","fromTo","x","_diffWidth","_distanceX","Math","round","_startX","getDtPicStartX","_endX","getDtWaveEndX","logoTl","y","scale","endTl","animateTablet","_picProp","getProperty","resizeWaveClipPath","logoElementPopInTl","_id","_speed","stagger","txtInTl","_origin","transformOrigin","_txt","alpha","_sizeSuffix","_scaleX","_scaleY","setAttribute","sx","sy","addEventListener","e","innerWidth","set","visibility","event","target","width","height","seek","kill"],"mappings":"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"}